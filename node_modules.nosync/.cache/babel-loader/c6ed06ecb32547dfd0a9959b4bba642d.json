{"ast":null,"code":"import _slicedToArray from\"/Users/matt/Documents/Programming/Projects/barcode-generator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./App.css';import Barcode from'react-barcode';import logo from\"./logo.svg\";import{text}from'./text-sample';import{useState}from'react';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var re1=/[\\d]{0,3}[\\w]{0,2}[\\d]{7,}/g;function Base64DecodeUrl(str){str=str?(str+'===').slice(0,str.length+str.length%4):'';return str.replace(/-/g,'+').replace(/_/g,'/');}var letterToNumber={A:8,B:8,C:0,D:0,E:8,F:8,G:0,H:8,I:1,J:0,K:8,L:1,M:0,N:8,O:0,P:2,Q:0,R:8,S:5,T:7,U:0,V:0,W:0,X:0,Y:1,Z:0};function replaceLettersWithLikelyDigits(str){return str.split('').map(function(digit){if(isNaN(Number(digit))){console.log(digit);return letterToNumber[digit];}else return digit;}).join('');}function BarcodeContainer(_ref){var UPC=_ref.UPC,index=_ref.index,totalUPCs=_ref.totalUPCs;var _useState=useState(function(){return UPC;}),_useState2=_slicedToArray(_useState,2),currentUPC=_useState2[0],setCurrentUPC=_useState2[1];var navUp=\"#upc\".concat(index-1);var navDown=\"#upc\".concat(index+1);function handleChange(e){setCurrentUPC(e.target.value);}function reset(){setCurrentUPC(UPC);}return/*#__PURE__*/_jsxs(\"div\",{id:\"upc\".concat(index),className:\"upc\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[index+1,\" of \",totalUPCs]}),/*#__PURE__*/_jsx(Barcode,{width:3,height:400,format:'CODE128',displayValue:false,background:'#ffffff',lineColor:'#000000',margin:10,value:currentUPC}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:currentUPC,onChange:handleChange}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"a\",{className:\"button\",href:\"#upc\".concat(index),onClick:reset,children:\"reset code\"}),/*#__PURE__*/_jsx(\"a\",{className:\"button\",href:navUp,children:\"up\"}),/*#__PURE__*/_jsx(\"a\",{className:\"button\",href:navDown,children:\"down\"})]})]},index);}function App(){var queryString=window.location.search;var urlParams=new URLSearchParams(queryString);var URLEncodedText=urlParams.get('text');var base64EncodedText=Base64DecodeUrl(URLEncodedText);// const text = atob(base64EncodedText)\nvar matches=text.match(re1);var fixedMatches=matches?matches.map(function(match){if(match.length>=12){if(/\\d{12}/.test(match)){return match;}else{return replaceLettersWithLikelyDigits(match);}}else{return'';}}).filter(function(match){return match;}):[];return matches?/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[fixedMatches.map(function(match,i){return/*#__PURE__*/_jsx(BarcodeContainer,{totalUPCs:fixedMatches.length,UPC:match,index:i},i);}),/*#__PURE__*/_jsx(\"p\",{className:\"scan-more\",children:/*#__PURE__*/_jsx(\"a\",{className:\"button\",href:\"shortcuts://run-shortcut?name=Scan%20Barcodes\",children:\"Scan More UPCs\"})})]}):/*#__PURE__*/_jsx(\"h1\",{children:\"no matches found\"});}export default App;","map":{"version":3,"sources":["/Users/matt/Documents/Programming/Projects/barcode-generator/src/App.js"],"names":["Barcode","text","useState","re1","Base64DecodeUrl","str","slice","length","replace","letterToNumber","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","replaceLettersWithLikelyDigits","split","map","digit","isNaN","Number","console","log","join","BarcodeContainer","UPC","index","totalUPCs","currentUPC","setCurrentUPC","navUp","navDown","handleChange","e","target","value","reset","width","height","format","displayValue","background","lineColor","margin","App","queryString","window","location","search","urlParams","URLSearchParams","URLEncodedText","get","base64EncodedText","matches","match","fixedMatches","test","filter","i"],"mappings":"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","sourcesContent":["import './App.css'\n\nimport Barcode from 'react-barcode'\nimport logo from './logo.svg'\nimport { text } from './text-sample'\nimport { useState } from 'react'\n\nconst re1 = /[\\d]{0,3}[\\w]{0,2}[\\d]{7,}/g\n\nfunction Base64DecodeUrl(str) {\n\tstr = str ? (str + '===').slice(0, str.length + (str.length % 4)) : ''\n\treturn str.replace(/-/g, '+').replace(/_/g, '/')\n}\n\nconst letterToNumber = {\n\tA: 8,\n\tB: 8,\n\tC: 0,\n\tD: 0,\n\tE: 8,\n\tF: 8,\n\tG: 0,\n\tH: 8,\n\tI: 1,\n\tJ: 0,\n\tK: 8,\n\tL: 1,\n\tM: 0,\n\tN: 8,\n\tO: 0,\n\tP: 2,\n\tQ: 0,\n\tR: 8,\n\tS: 5,\n\tT: 7,\n\tU: 0,\n\tV: 0,\n\tW: 0,\n\tX: 0,\n\tY: 1,\n\tZ: 0,\n}\n\nfunction replaceLettersWithLikelyDigits(str) {\n\treturn str\n\t\t.split('')\n\t\t.map((digit) => {\n\t\t\tif (isNaN(Number(digit))) {\n\t\t\t\tconsole.log(digit)\n\t\t\t\treturn letterToNumber[digit]\n\t\t\t} else return digit\n\t\t})\n\t\t.join('')\n}\n\nfunction BarcodeContainer({ UPC, index, totalUPCs }) {\n\tconst [currentUPC, setCurrentUPC] = useState(() => {\n\t\treturn UPC\n\t})\n\tconst navUp = `#upc${index - 1}`\n\tconst navDown = `#upc${index + 1}`\n\n\tfunction handleChange(e) {\n\t\tsetCurrentUPC(e.target.value)\n\t}\n\tfunction reset() {\n\t\tsetCurrentUPC(UPC)\n\t}\n\treturn (\n\t\t<div key={index} id={`upc${index}`} className='upc'>\n\t\t\t<h3>\n\t\t\t\t{index + 1} of {totalUPCs}\n\t\t\t</h3>\n\t\t\t<Barcode\n\t\t\t\t{...{\n\t\t\t\t\twidth: 3,\n\t\t\t\t\theight: 400,\n\t\t\t\t\tformat: 'CODE128',\n\t\t\t\t\tdisplayValue: false,\n\t\t\t\t\tbackground: '#ffffff',\n\t\t\t\t\tlineColor: '#000000',\n\t\t\t\t\tmargin: 10,\n\t\t\t\t}}\n\t\t\t\tvalue={currentUPC}\n\t\t\t/>\n\t\t\t<input type='text' value={currentUPC} onChange={handleChange} />\n\t\t\t<nav>\n\t\t\t\t<a className='button' href={`#upc${index}`} onClick={reset}>\n\t\t\t\t\treset code\n\t\t\t\t</a>\n\t\t\t\t<a className='button' href={navUp}>\n\t\t\t\t\tup\n\t\t\t\t</a>\n\t\t\t\t<a className='button' href={navDown}>\n\t\t\t\t\tdown\n\t\t\t\t</a>\n\t\t\t</nav>\n\t\t</div>\n\t)\n}\n\nfunction App() {\n\tconst queryString = window.location.search\n\tconst urlParams = new URLSearchParams(queryString)\n\tconst URLEncodedText = urlParams.get('text')\n\tconst base64EncodedText = Base64DecodeUrl(URLEncodedText)\n\t// const text = atob(base64EncodedText)\n\tconst matches = text.match(re1)\n\tconst fixedMatches = matches\n\t\t? matches\n\t\t\t\t.map((match) => {\n\t\t\t\t\tif (match.length >= 12) {\n\t\t\t\t\t\tif (/\\d{12}/.test(match)) {\n\t\t\t\t\t\t\treturn match\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn replaceLettersWithLikelyDigits(match)\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn ''\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.filter((match) => match)\n\t\t: []\n\n\treturn matches ? (\n\t\t<div className='App'>\n\t\t\t{fixedMatches.map((match, i) => (\n\t\t\t\t<BarcodeContainer\n\t\t\t\t\ttotalUPCs={fixedMatches.length}\n\t\t\t\t\tUPC={match}\n\t\t\t\t\tkey={i}\n\t\t\t\t\tindex={i}\n\t\t\t\t></BarcodeContainer>\n\t\t\t))}\n\t\t\t<p className='scan-more'>\n\t\t\t\t<a\n\t\t\t\t\tclassName='button'\n\t\t\t\t\thref='shortcuts://run-shortcut?name=Scan%20Barcodes'\n\t\t\t\t>\n\t\t\t\t\tScan More UPCs\n\t\t\t\t</a>\n\t\t\t</p>\n\t\t</div>\n\t) : (\n\t\t<h1>no matches found</h1>\n\t)\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}